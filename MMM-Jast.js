(()=>{"use strict";var e={429:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{static getStockChange(e){var t;return Number((null===(t=e.price)||void 0===t?void 0:t.regularMarketChange).toFixed(2))||0}static getStockChangePercent(e){var t;return Number((100*(null===(t=e.price)||void 0===t?void 0:t.regularMarketChangePercent)).toFixed(1))||0}static getCurrentValue(e){var t,a;return Number(null===(a=null===(t=e.price)||void 0===t?void 0:t.regularMarketPrice)||void 0===a?void 0:a.toFixed(2))||0}static getCurrency(e){var t;return(null===(t=e.summaryDetail)||void 0===t?void 0:t.currency)||"?"}static getDepotGrowth(e,t){var a,n;let r=[];for(const o of t)try{const t=null===(a=e.stocks)||void 0===a?void 0:a.find((e=>{var t;return e.symbol===(null===(t=o.meta)||void 0===t?void 0:t.symbol)}));if(null==t?void 0:t.quantity){const e=(null===(n=o.price)||void 0===n?void 0:n.regularMarketChange)*t.quantity,a=r.find((e=>e.currency===o.price.currency));a?a.value=a.value+e:r.push({value:e,currency:o.price.currency})}}catch(e){console.warn("There was a problem calculating the detpot growth",e)}return r.forEach((e=>{e.value=Number(e.value.toFixed(2))})),r}}}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,a),o.exports}(()=>{const e=a(429);Module.register("MMM-Jast",{defaults:{header:null,updateIntervalInSeconds:600,fadeSpeedInSeconds:3.5,stocks:[{name:"BASF",symbol:"BAS.DE",quantity:100},{name:"SAP",symbol:"SAP.DE",quantity:200},{name:"Henkel",symbol:"HEN3.DE"},{name:"AbbVie",symbol:"4AB.DE"},{name:"Bitcoin",symbol:"BTC-EUR"},{name:"Alibaba",symbol:"BABA"}],scroll:"vertical",maxWidth:"100%",showChangePercent:!0,showChangeValue:!1,showChangeValueCurrency:!1,showDepotGrowth:!1},getStyles:()=>["MMM-Jast.css"],getTranslations:()=>({en:"translations/en.json",de:"translations/de.json"}),getTemplate:()=>"templates/MMM-Jast.njk",getTemplateData(){return{config:this.config,stocks:this.stocks,utils:e.default}},getHeader(){return this.config.header},start(){this.nunjucksEnvironment().loaders[0].async=!1,this.nunjucksEnvironment().loaders[0].useCache=!0,this.stocks=[],this.loadData(),this.scheduleUpdate(),this.updateDom()},scheduleUpdate(){const e=this;this.config.updateIntervalInSeconds=this.config.updateIntervalInSeconds<120?120:this.config.updateIntervalInSeconds,setInterval((()=>{e.loadData()}),1e3*this.config.updateIntervalInSeconds)},loadData(){this.sendSocketNotification("GET_STOCKS",this.config)},socketNotificationReceived(e,t){"STOCKS_RESULT"===e&&(this.stocks=t,this.updateDom(),console.log("Stock results",this.stocks))}})})()})();