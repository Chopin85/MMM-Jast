(()=>{"use strict";var e={429:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{static getStockChange(e){return(100*e.price.regularMarketChangePercent).toFixed(1)}static getCurrentValue(e){return Number(e.price.regularMarketPrice.toFixed(2))}static getCurrency(e){return e.summaryDetail.currency}static getDepotGrowth(e,t){let s=[];for(const r of t){const t=e.stocks.find((e=>e.symbol===r.meta.symbol));if(null==t?void 0:t.quantity){const e=r.price.regularMarketChange*t.quantity,a=s.find((e=>e.currency===r.price.currency));a?a.value=a.value+e:s.push({value:e,currency:r.price.currency})}}return s.forEach((e=>{e.value=Number(e.value.toFixed(2))})),s}}}},t={};function s(r){var a=t[r];if(void 0!==a)return a.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,s),n.exports}(()=>{const e=s(429);Module.register("MMM-Jast",{defaults:{header:null,updateIntervalInSeconds:600,fadeSpeedInSeconds:3.5,stocks:[{name:"BASF",symbol:"BAS.DE",quantity:1},{name:"SAP",symbol:"SAP.DE",quantity:2},{name:"Henkel",symbol:"HEN3.DE"},{name:"AbbVie",symbol:"4AB.DE"},{name:"Bitcoin",symbol:"BTC-EUR"},{name:"Alibaba",symbol:"BABA",quantity:10}],scroll:"vertical",maxWidth:"300px",showDepotGrowth:!1},getStyles:()=>["MMM-Jast.css"],getTranslations:()=>({en:"translations/en.json",de:"translations/de.json"}),getTemplate:()=>"templates/MMM-Jast.njk",getTemplateData(){return{config:this.config,stocks:this.stocks,error:this.error,utils:e.default}},getHeader(){return this.config.header},start(){this.nunjucksEnvironment().loaders[0].async=!1,this.nunjucksEnvironment().loaders[0].useCache=!0,this.stocks=[],this.error=null,this.loadData(),this.scheduleUpdate(),this.updateDom()},scheduleUpdate(){const e=this;setInterval((()=>{e.loadData()}),1e3*this.config.updateIntervalInSeconds)},loadData(){this.sendSocketNotification("GET_STOCKS",this.config)},socketNotificationReceived(e,t){"STOCKS_RESULT"===e?(this.error=null,this.stocks=t,this.updateDom(),console.log("Stock results",this.stocks)):"ERROR"===e&&(this.error=t,this.updateDom())}})})()})();