(()=>{"use strict";var e={429:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{static getStockChange(e){var t;return Number((100*(null===(t=e.price)||void 0===t?void 0:t.regularMarketChangePercent)).toFixed(1))||0}static getCurrentValue(e){var t,r;return Number(null===(r=null===(t=e.price)||void 0===t?void 0:t.regularMarketPrice)||void 0===r?void 0:r.toFixed(2))||0}static getCurrency(e){var t;return(null===(t=e.summaryDetail)||void 0===t?void 0:t.currency)||"?"}static getDepotGrowth(e,t){var r,a;let s=[];for(const n of t)try{const t=null===(r=e.stocks)||void 0===r?void 0:r.find((e=>{var t;return e.symbol===(null===(t=n.meta)||void 0===t?void 0:t.symbol)}));if(null==t?void 0:t.quantity){const e=(null===(a=n.price)||void 0===a?void 0:a.regularMarketChange)*t.quantity,r=s.find((e=>e.currency===n.price.currency));r?r.value=r.value+e:s.push({value:e,currency:n.price.currency})}}catch(e){console.warn("There was a problem calculating the detpot growth",e)}return s.forEach((e=>{e.value=Number(e.value.toFixed(2))})),s}}}},t={};function r(a){var s=t[a];if(void 0!==s)return s.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,r),n.exports}(()=>{const e=r(429);Module.register("MMM-Jast",{defaults:{header:null,updateIntervalInSeconds:600,fadeSpeedInSeconds:3.5,stocks:[{name:"BASF",symbol:"BAS.DE",quantity:1},{name:"SAP",symbol:"SAP.DE",quantity:2},{name:"Henkel",symbol:"HEN3.DE"},{name:"AbbVie",symbol:"4AB.DE"},{name:"Bitcoin",symbol:"BTC-EUR"},{name:"Alibaba",symbol:"BABA",quantity:10}],scroll:"vertical",maxWidth:"300px",showDepotGrowth:!1},getStyles:()=>["MMM-Jast.css"],getTranslations:()=>({en:"translations/en.json",de:"translations/de.json"}),getTemplate:()=>"templates/MMM-Jast.njk",getTemplateData(){return{config:this.config,stocks:this.stocks,utils:e.default}},getHeader(){return this.config.header},start(){this.nunjucksEnvironment().loaders[0].async=!1,this.nunjucksEnvironment().loaders[0].useCache=!0,this.stocks=[],this.error=null,this.loadData(),this.scheduleUpdate(),this.updateDom()},scheduleUpdate(){const e=this;setInterval((()=>{e.loadData()}),1e3*this.config.updateIntervalInSeconds)},loadData(){this.sendSocketNotification("GET_STOCKS",this.config)},socketNotificationReceived(e,t){"STOCKS_RESULT"===e&&(this.error=null,this.stocks=t,this.updateDom(),console.log("Stock results",this.stocks))}})})()})();