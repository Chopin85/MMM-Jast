(()=>{"use strict";var e={429:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{static getStockChange(e,t){var a;return Number((null===(a=e.price)||void 0===a?void 0:a.regularMarketChange).toFixed(t.numberDecimalsValues))||0}static getStockChangePercent(e,t){var a;return Number((100*(null===(a=e.price)||void 0===a?void 0:a.regularMarketChangePercent)).toFixed(t.numberDecimalsPercentages))||0}static getCurrentValue(e,t){var a,n;return Number(null===(n=null===(a=e.price)||void 0===a?void 0:a.regularMarketPrice)||void 0===n?void 0:n.toFixed(t.numberDecimalsValues))||0}static getStockChangeAsString(e,t){return this.getStockChange(e,t).toLocaleString()}static getStockChangePercentAsString(e,t){return this.getStockChangePercent(e,t).toLocaleString()}static getCurrentValueAsString(e,t){return this.getCurrentValue(e,t).toLocaleString()}static getCurrency(e){var t;return(null===(t=e.summaryDetail)||void 0===t?void 0:t.currency)||"?"}static getStockName(e){return e.meta.name||e.price.longName}static getDepotGrowth(e,t){var a,n;let r=[];for(const s of e)try{const e=null===(a=t.stocks)||void 0===a?void 0:a.find((e=>{var t;return e.symbol===(null===(t=s.meta)||void 0===t?void 0:t.symbol)}));if(null==e?void 0:e.quantity){const t=(null===(n=s.price)||void 0===n?void 0:n.regularMarketChange)*e.quantity,a=r.find((e=>e.currency===s.price.currency));a?a.value=a.value+t:r.push({value:t,currency:s.price.currency,valueAsString:t.toLocaleString()})}}catch(e){console.warn("There was a problem calculating the detpot growth",e)}return r.forEach((e=>{e.value=Number(e.value.toFixed(t.numberDecimalsValues))})),r}}}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,a),s.exports}(()=>{const e=a(429);Module.register("MMM-Jast",{defaults:{header:null,updateIntervalInSeconds:600,fadeSpeedInSeconds:3.5,stocks:[{name:"BASF",symbol:"BAS.DE",quantity:100},{name:"SAP",symbol:"SAP.DE",quantity:200},{name:"Henkel",symbol:"HEN3.DE"},{name:"AbbVie",symbol:"4AB.DE"},{name:"Bitcoin",symbol:"BTC-EUR"},{name:"Alibaba",symbol:"BABA"}],scroll:"vertical",maxWidth:"100%",numberDecimalsValues:2,numberDecimalsPercentages:1,showCurrency:!0,showChangePercent:!0,showChangeValue:!1,showChangeValueCurrency:!1,showDepotGrowth:!1},getStyles:()=>["MMM-Jast.css"],getTranslations:()=>({en:"translations/en.json",de:"translations/de.json"}),getTemplate:()=>"templates/MMM-Jast.njk",getTemplateData(){return{config:this.config,stocks:this.stocks,utils:e.default}},getHeader(){return this.config.header},start(){this.nunjucksEnvironment().loaders[0].async=!1,this.nunjucksEnvironment().loaders[0].useCache=!0,this.stocks=[],this.loadData(),this.scheduleUpdate(),this.updateDom()},scheduleUpdate(){const e=this;this.config.updateIntervalInSeconds=this.config.updateIntervalInSeconds<120?120:this.config.updateIntervalInSeconds,setInterval((()=>{e.loadData()}),1e3*this.config.updateIntervalInSeconds)},loadData(){this.sendSocketNotification("GET_STOCKS",this.config)},socketNotificationReceived(e,t){"STOCKS_RESULT"===e&&(this.stocks=t,this.updateDom(),console.log("Stock results",this.stocks))}})})()})();