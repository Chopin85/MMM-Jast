

{% macro render(num="1") %}
  <p class="jast-hticker jast-ticker-no{{ num }}">
    <span class="jast-tickerframe">
    {% for stock in stocks %}
      <span class="jast-stock">{{ utils.getStockName(stock) }}:
        {% if utils.getStockChange(stock, config) > 0 %}
          {% set colorClass = "high" %}
        {% elif utils.getStockChange(stock, config) < 0 %}
          {% set colorClass = "low " %}
        {% else %}
          {% set colorClass = "" %}
        {% endif %}
        <span class="{{ colorClass }}">
          {{ utils.getCurrentValue(stock, config) }}
          {% if config.showCurrency %}{{ utils.getCurrency(stock) }}{% endif %}
          {% if colorClass and (config.showChangeValue or config.showChangePercent) %}
            <span class="jast-change">
              ({% if config.showChangeValue %}<span class="jast-change-value">{% if colorClass == "high" %}+{%endif%}{{ utils.getStockChange(stock, config) }}{% if config.showChangeValueCurrency %} {{ utils.getCurrency(stock) }}{% endif %}</span>{% endif %}
              {% if config.showChangePercent %}<span class="jast-change-value">{% if colorClass == "high" %}+{%endif%}{{ utils.getStockChangePercent(stock, config) }}%</span>{% endif %})
            </span>
          {% endif %}
        </span>
      </span>
    {% endfor %}
    {% if config.showDepotGrowth %}
      {% set depotGrowth = utils.getDepotGrowth(stocks, config) %}
        <span class="jast-stock">{{ "depotGrowth" | translate | safe }}
          {% for growth in depotGrowth %}
            {% if growth.value > 0 %}
              {% set colorClass = "high" %}
            {% elif growth.value < 0 %}
              {% set colorClass = "low " %}
            {% else %}
              {% set colorClass = "" %}
            {% endif %}
            <span class="{{ colorClass }}{% if loop.index != 1 %} jast-multi-currency{% endif %}">{{ growth.value }} {{ growth.currency }}</span>
          {% endfor %}
        </span>
      {% endif %}
    </span>
  </p>
{% endmacro %}
